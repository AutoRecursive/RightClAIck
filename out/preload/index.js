"use strict";
const electron = require("electron");
electron.contextBridge.exposeInMainWorld("electronAPI", {
  // Add Ollama API communication
  chatWithOllama: (messages) => electron.ipcRenderer.invoke("chat-with-ollama", messages),
  // 添加流式响应监听
  onOllamaStream: (callback) => {
    const listener = (_, data) => callback(data);
    electron.ipcRenderer.on("ollama-stream", listener);
    return () => {
      electron.ipcRenderer.removeListener("ollama-stream", listener);
    };
  },
  // 获取Ollama可用模型列表
  getOllamaModels: () => electron.ipcRenderer.invoke("get-ollama-models"),
  // 设置当前使用的模型
  setCurrentModel: (modelName) => electron.ipcRenderer.invoke("set-current-model", modelName),
  // 搜索功能
  search: (query, engines) => {
    return electron.ipcRenderer.invoke("search", query, engines);
  },
  // 获取可用的搜索引擎
  getEngines: () => {
    return electron.ipcRenderer.invoke("get-engines");
  }
});
window.addEventListener("DOMContentLoaded", () => {
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9wcmVsb2FkL2luZGV4LnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNvbnRleHRCcmlkZ2UsIGlwY1JlbmRlcmVyIH0gZnJvbSAnZWxlY3Ryb24nXG5cbmV4cG9ydCB0eXBlIFNlYXJjaFJlc3VsdCA9IHtcbiAgdGl0bGU6IHN0cmluZ1xuICB1cmw6IHN0cmluZ1xuICBjb250ZW50OiBzdHJpbmdcbiAgZW5naW5lOiBzdHJpbmdcbiAgc2NvcmU/OiBudW1iZXJcbn1cblxuZXhwb3J0IHR5cGUgU2VhcmNoUmVzcG9uc2UgPSB7XG4gIHF1ZXJ5OiBzdHJpbmdcbiAgcmVzdWx0czogU2VhcmNoUmVzdWx0W11cbiAgYW5zd2Vyczogc3RyaW5nW11cbiAgY29ycmVjdGlvbnM6IHN0cmluZ1tdXG4gIHN1Z2dlc3Rpb25zOiBzdHJpbmdbXVxuICBpbmZvYm94ZXM6IGFueVtdXG59XG5cbi8vIEV4cG9zZSBwcm90ZWN0ZWQgbWV0aG9kcyB0aGF0IGFsbG93IHRoZSByZW5kZXJlciBwcm9jZXNzIHRvIHVzZVxuLy8gdGhlIGlwY1JlbmRlcmVyIHdpdGhvdXQgZXhwb3NpbmcgdGhlIGVudGlyZSBvYmplY3RcbmNvbnRleHRCcmlkZ2UuZXhwb3NlSW5NYWluV29ybGQoJ2VsZWN0cm9uQVBJJywge1xuICAvLyBBZGQgT2xsYW1hIEFQSSBjb21tdW5pY2F0aW9uXG4gIGNoYXRXaXRoT2xsYW1hOiAobWVzc2FnZXM6IGFueVtdKSA9PiBpcGNSZW5kZXJlci5pbnZva2UoJ2NoYXQtd2l0aC1vbGxhbWEnLCBtZXNzYWdlcyksXG4gIFxuICAvLyDmt7vliqDmtYHlvI/lk43lupTnm5HlkKxcbiAgb25PbGxhbWFTdHJlYW06IChjYWxsYmFjazogKGRhdGE6IGFueSkgPT4gdm9pZCkgPT4ge1xuICAgIGNvbnN0IGxpc3RlbmVyID0gKF86IGFueSwgZGF0YTogYW55KSA9PiBjYWxsYmFjayhkYXRhKVxuICAgIGlwY1JlbmRlcmVyLm9uKCdvbGxhbWEtc3RyZWFtJywgbGlzdGVuZXIpXG4gICAgXG4gICAgLy8g6L+U5Zue5Y+W5raI55uR5ZCs55qE5Ye95pWwXG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGlwY1JlbmRlcmVyLnJlbW92ZUxpc3RlbmVyKCdvbGxhbWEtc3RyZWFtJywgbGlzdGVuZXIpXG4gICAgfVxuICB9LFxuXG4gIC8vIOiOt+WPlk9sbGFtYeWPr+eUqOaooeWei+WIl+ihqFxuICBnZXRPbGxhbWFNb2RlbHM6ICgpID0+IGlwY1JlbmRlcmVyLmludm9rZSgnZ2V0LW9sbGFtYS1tb2RlbHMnKSxcblxuICAvLyDorr7nva7lvZPliY3kvb/nlKjnmoTmqKHlnotcbiAgc2V0Q3VycmVudE1vZGVsOiAobW9kZWxOYW1lOiBzdHJpbmcpID0+IGlwY1JlbmRlcmVyLmludm9rZSgnc2V0LWN1cnJlbnQtbW9kZWwnLCBtb2RlbE5hbWUpLFxuXG4gIC8vIOaQnOe0ouWKn+iDvVxuICBzZWFyY2g6IChxdWVyeTogc3RyaW5nLCBlbmdpbmVzPzogc3RyaW5nW10pOiBQcm9taXNlPFNlYXJjaFJlc3BvbnNlPiA9PiB7XG4gICAgcmV0dXJuIGlwY1JlbmRlcmVyLmludm9rZSgnc2VhcmNoJywgcXVlcnksIGVuZ2luZXMpXG4gIH0sXG5cbiAgLy8g6I635Y+W5Y+v55So55qE5pCc57Si5byV5pOOXG4gIGdldEVuZ2luZXM6ICgpOiBQcm9taXNlPHN0cmluZ1tdPiA9PiB7XG4gICAgcmV0dXJuIGlwY1JlbmRlcmVyLmludm9rZSgnZ2V0LWVuZ2luZXMnKVxuICB9XG59KVxuXG4vLyBGdW5jdGlvbiBleGVjdXRlZCB3aGVuIHdpbmRvdyBpcyBsb2FkZWRcbndpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgKCkgPT4ge1xuICAvLyBZb3UgY2FuIGRvIGFueSBET00tcmVsYXRlZCBzZXR1cCBoZXJlIGlmIG5lZWRlZFxufSkgIl0sIm5hbWVzIjpbImNvbnRleHRCcmlkZ2UiLCJpcGNSZW5kZXJlciJdLCJtYXBwaW5ncyI6Ijs7QUFxQkFBLFNBQUFBLGNBQWMsa0JBQWtCLGVBQWU7QUFBQTtBQUFBLEVBRTdDLGdCQUFnQixDQUFDLGFBQW9CQyxTQUFBQSxZQUFZLE9BQU8sb0JBQW9CLFFBQVE7QUFBQTtBQUFBLEVBR3BGLGdCQUFnQixDQUFDLGFBQWtDO0FBQ2pELFVBQU0sV0FBVyxDQUFDLEdBQVEsU0FBYyxTQUFTLElBQUk7QUFDekNBLHlCQUFBLEdBQUcsaUJBQWlCLFFBQVE7QUFHeEMsV0FBTyxNQUFNO0FBQ0NBLDJCQUFBLGVBQWUsaUJBQWlCLFFBQVE7QUFBQSxJQUN0RDtBQUFBLEVBQ0Y7QUFBQTtBQUFBLEVBR0EsaUJBQWlCLE1BQU1BLFNBQUFBLFlBQVksT0FBTyxtQkFBbUI7QUFBQTtBQUFBLEVBRzdELGlCQUFpQixDQUFDLGNBQXNCQSxTQUFBQSxZQUFZLE9BQU8scUJBQXFCLFNBQVM7QUFBQTtBQUFBLEVBR3pGLFFBQVEsQ0FBQyxPQUFlLFlBQWdEO0FBQ3RFLFdBQU9BLFNBQVksWUFBQSxPQUFPLFVBQVUsT0FBTyxPQUFPO0FBQUEsRUFDcEQ7QUFBQTtBQUFBLEVBR0EsWUFBWSxNQUF5QjtBQUM1QixXQUFBQSxTQUFBLFlBQVksT0FBTyxhQUFhO0FBQUEsRUFBQTtBQUUzQyxDQUFDO0FBR0QsT0FBTyxpQkFBaUIsb0JBQW9CLE1BQU07QUFFbEQsQ0FBQzsifQ==
